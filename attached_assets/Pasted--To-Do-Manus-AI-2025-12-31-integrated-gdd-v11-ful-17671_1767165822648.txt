글로벌 엠파이어: 왕좌의 게임 - 기술 스택 및 개발 To-Do 리스트

작성자: Manus AI 작성일: 2025-12-31 기반 문서: integrated_gdd_v11_full.md

1. 핵심 요구사항 분석 (Manus 관점)

제공된 GDD를 분석한 결과, 본 프로젝트의 성공은 다음 세 가지 핵심 기술적 난이도에 달려 있습니다.

1.
실시간 동기화 및 확장성: 30~60초 턴 기반의 동시 턴 진행(Simultaneous Turn-based) 방식은 모든 플레이어의 명령을 짧은 시간 내에 수집하고, 일괄 처리 후 결과를 모든 클라이언트에 즉시 동기화해야 합니다. 최대 100명의 플레이어를 지원하기 위해 서버의 저지연(Low-latency) 및 고확장성(High-scalability)이 필수적입니다.

2.
LLM 기반 전투 판정 시스템: 플레이어의 텍스트 전략을 LLM이 분석하여 전투 결과를 판정하는 것은 본 게임의 가장 혁신적인 핵심 기능입니다. 이 시스템은 안정적인 LLM API 호출, 빠른 응답 시간, 그리고 판정의 공정성을 보장하는 프롬프트 엔지니어링을 요구합니다.

3.
고성능 웹 맵 렌더링: 1,000개 이상의 육각형 타일(Hex Grid)로 구성된 세계 지도를 웹 브라우저에서 부드럽게 렌더링하고, 실시간으로 상태(병력, 소유권, 전투 효과)를 업데이트해야 합니다.

2. 권장 기술 스택 (Recommended Tech Stack)

이러한 요구사항을 충족시키기 위해, Manus는 다음과 같은 풀스택 JavaScript/TypeScript 기반의 마이크로서비스 아키텍처를 권장합니다.

영역
기술 스택
상세 설명
선택 이유
프론트엔드 (Client)
Next.js (React), TypeScript
웹 기반 UI 및 상태 관리
현대적이고 성능이 우수한 웹 프레임워크. 개발 속도와 유지보수 용이성 확보.
맵 렌더링
Pixi.js (2D Canvas/WebGL)
육각형 타일 기반의 고성능 2D 맵 렌더링
WebGL 기반의 2D 렌더링 라이브러리 중 가장 빠르고 안정적입니다. 대규모 타일 맵의 부드러운 줌/스크롤/업데이트에 최적.
실시간 통신
WebSockets (Protocol), Socket.IO 또는 µWebSockets (Library)
서버-클라이언트 간의 저지연 양방향 통신
30~60초 턴 동기화 및 실시간 UI 업데이트를 위한 필수 요소. Socket.IO는 안정적이며, µWebSockets는 더 높은 성능을 제공합니다.
백엔드 (Game Server)
Node.js (Runtime), NestJS (Framework)
게임 로직 처리 및 API 서버
Node.js의 비동기/논블로킹 I/O는 수많은 동시 연결(100명/방) 처리에 유리합니다. NestJS는 모듈화된 구조로 대규모 프로젝트 관리에 적합합니다.
LLM 처리 서버
Python, FastAPI
LLM API 호출 및 전략 분석 전용 마이크로서비스
LLM 생태계(LangChain, OpenAI SDK 등)에 최적화된 Python을 사용하고, FastAPI로 고성능 API 엔드포인트를 구축하여 메인 게임 서버의 부하를 분리합니다.
데이터베이스
PostgreSQL (Relational DB)
영구적인 게임 상태 및 플레이어 데이터 저장
트랜잭션의 안정성과 복잡한 쿼리(랭킹, 통계) 처리에 강점을 가집니다.
캐싱/실시간 데이터
Redis (In-memory DB)
현재 턴 상태, 명령 큐, 세션 정보 등 휘발성 데이터 저장
턴 시작/종료 시 발생하는 대규모 읽기/쓰기 작업을 초고속으로 처리하여 서버 부하를 줄입니다.
인프라/배포
Docker, Kubernetes (K8s)
서버 컨테이너화 및 오케스트레이션
게임 방(Room)별로 독립적인 게임 서버 인스턴스를 띄워야 하므로, K8s를 통한 동적 서버 할당 및 확장이 필수적입니다.




3. 단계별 개발 To-Do 리스트 (Phase-by-Phase To-Do List)

본 프로젝트는 MVP(Minimum Viable Product)를 목표로 핵심 기능을 우선 구현하고, 이후 세부 시스템을 추가하는 방식으로 진행하는 것이 효율적입니다.

A. 인프라 및 기본 환경 구축 (Foundation & Infrastructure)

ID
To-Do 항목
목표
A-1
프로젝트 초기화
Next.js, NestJS, Python FastAPI 프로젝트 생성 및 TypeScript 설정 완료.
A-2
DB 및 캐시 설정
PostgreSQL 및 Redis 서버 구축. ORM(예: TypeORM, Prisma)을 사용하여 기본 데이터 모델(플레이어, 방, 도시) 정의.
A-3
실시간 통신 서버 구축
NestJS에 Socket.IO/WebSockets 모듈 통합. 기본 연결 및 방(Room) 입장/퇴장 로직 구현.
A-4
LLM 처리 마이크로서비스 구축
Python FastAPI 서버 구축. LLM API 키 설정 및 기본 텍스트 입출력 테스트 엔드포인트 구현.
A-5
배포 환경 자동화
Dockerfile 작성 및 Docker Compose/K8s를 이용한 개발/테스트 환경 자동 배포 스크립트 작성.




B. 핵심 게임 루프 구현 (Core Game Loop)

ID
To-Do 항목
목표
B-1
턴 타이머 및 동기화 로직
30/45/60초 턴 타이머 구현. 서버에서 모든 클라이언트에게 턴 시작/종료 이벤트를 정확히 동기화.
B-2
명령 큐 시스템
플레이어의 턴 액션(이동, 건설, 전략 입력)을 수집하는 서버 측 명령 큐(Redis 사용) 구현.
B-3
턴 판정 로직 (Non-Combat)
턴 시작 시 자원 생산, 유지비 차감, 건설 진행 등 비전투 로직을 서버에서 일괄 처리.
B-4
병력 이동 시스템
Hex Grid 좌표계(예: 큐브 좌표계)를 이용한 병력 이동 경로 계산 및 이동 명령 처리 로직 구현.
B-5
세션 관리 및 이탈 처리
플레이어 이탈 시 자동 스킵, 3턴 후 AI 자동 조종 전환, 재접속 로직 구현 (GDD 3.3.1 준수).




C. 프론트엔드 및 맵 시스템 (Frontend & Map)

ID
To-Do 항목
목표
C-1
Hex Grid 맵 데이터 구조
1,000개 타일 데이터를 클라이언트에서 효율적으로 관리할 수 있는 데이터 구조 설계.
C-2
Pixi.js 맵 렌더링
Pixi.js를 사용하여 Hex Grid 타일(지형, 경계선)을 고성능으로 렌더링. 줌/스크롤 기능 구현.
C-3
타일 정보 시각화
타일 소유국 색상, 병력 아이콘, 건물 아이콘 등 GDD 4.2.2에 명시된 정보 시각화.
C-4
UI/UX 기본 레이아웃
지도, 자원 현황판, 명령 패널, 채팅/뉴스 피드 등 기본 UI 레이아웃 구현.
C-5
타일/도시 상세 정보 팝업
타일 클릭 시 GDD 4.2.3, 4.2.5에 명시된 상세 정보 팝업 구현.




D. LLM 기반 전투 시스템 (Core Innovation)

ID
To-Do 항목
목표
D-1
전투 발생 감지 및 전환
병력 이동 중 적 타일 진입 시 전투 발생을 감지하고, 해당 플레이어를 전투 페이즈로 전환.
D-2
전략 입력 UI
전투 중인 플레이어가 텍스트 전략을 입력할 수 있는 전용 UI 구현.
D-3
LLM 프롬프트 엔지니어링
전투 상황(지형, 병력 구성, 사기, 전략 텍스트)을 LLM이 이해할 수 있는 구조화된 프롬프트로 변환하는 로직 개발.
D-4
LLM 전투 판정 로직
Python FastAPI 서버에서 LLM API를 호출하여 전투 결과를 JSON 형식으로 반환받는 로직 구현. (예: 승패, 사상자 수, 다음 턴 행동)
D-5
전투 결과 반영 및 시각화
LLM 결과를 게임 서버에 반영(병력 수 업데이트, 도시 점령 등)하고, 클라이언트에게 전투 결과를 뉴스/팝업으로 전달.




E. 부가 시스템 및 완성도 향상 (Secondary Systems & Polish)

ID
To-Do 항목
목표
E-1
경제 및 자원 시스템
돈, 식량, 특산물 생산/소비/거래 로직 구현. 세율 조정 및 행복도 시스템 연동.
E-2
외교 및 첩보 시스템
동맹 제안/수락/파기, 첩보 활동(스파이 파견) 로직 구현.
E-3
AI 영주 로직
쉬움/보통/어려움 난이도별 AI의 의사결정 로직(공격, 건설, 외교) 구현.
E-4
방 생성 및 설정 UI
GDD 3.1.1에 따른 방 생성 및 설정(모드, 턴 시간, AI 난이도) UI 구현.
E-5
뉴스 및 리더보드
주요 이벤트(전투 승리, 도시 점령) 발생 시 뉴스 피드 생성 및 실시간 리더보드(점수 계산 로직 포함) 구현.




F. 테스트 및 출시 (Testing & Deployment)

ID
To-Do 항목
목표
F-1
부하 테스트 (Load Testing)
100명의 동시 플레이어 및 30초 턴 환경에서 서버의 안정성 및 지연 시간 테스트.
F-2
LLM 판정 밸런스 테스트
다양한 전략 텍스트와 전투 상황을 입력하여 LLM 판정의 일관성과 공정성 검증.
F-3
버그 수정 및 최적화
클라이언트 렌더링 성능 최적화 및 서버 메모리/CPU 사용량 최적화.
F-4
최종 배포
프로덕션 환경에 게임 서버 및 클라이언트 배포.



